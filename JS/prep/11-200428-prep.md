# 원시 값과 객체 비교

**원시 타입과 객체 타입의 세가지 차이점**

- 원시 타입의 값, 즉 원시 값은 변경 불가능한 값(immutable value)이다. 이에 비해 객체(참조) 타입의 값, 즉 객체는 변경 가능한 값(mutable value)이다.
- 원시 값을 변수에 할당하면 변수에는 실제 값이 저장된다. 이에 비해 객체를 변수에 할당하면 변수에는 참조 값이 저장된다.
- 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사되어 전달된다. 이를 값에 의한 전달(Pass by value)라 한다. 이에 비해 객체를 가리키는 변수를 다른 변수에 할당하면 원본의 참조 값이 복사되어 전달된다. 이를 참조에 의한 전달(Pass by reference)라 한다.



## 원시 값

### 변경 불가능한 값

**원시 타입(primitive type)의 값, 원시 값은 변경 불가능한 값(immutable value)**

한번 생성된 원시 값은 read only한 값이므로 변경할 수 없다. **변경 불가능하다는 것은 변수가 아니라 값에 대한 진술이다.** 

값을 변경할 수 없다는 것은 재할당을 할 수 없다는 의미와는 다르다. 변수는 언제든지 재할당을 통해 변수 값을 변경(엄밀히 말하자면 교체)할 수 있다. 그렇기 때문에 변수라고 부른다.

변수의 상대 개념인 상수는 재할당이 금지된 변수를 말한다. 상수도 값을 저장하기 위한 메모리 공간이 필요하므로 변수라고 할 수 있다. 단, 변수는 언제든지 재할당을 통해 변수 값을 변경(교체)할 수 있지만 상수는 단 한번만 할당이 허용되므로 변수 값을 변경(교체)할 수 없다. 따라서 상수와 변경 불가능한 값을 동일시하는 것은 곤란하다.

```javascript
// const 키워드를 사용해 선언한 상수는 재할당이 금지된다.
const o = {};

// 하지만 const 키워드를 사용해 선언한 상수에 할당된 객체는 변경할 수 있다.
// 즉, 상수는 재할당이 금지된 변수일 뿐이다.
o.a = 1;
console.log(o); // {a: 1}
```

원시 값은 변경 불가능한 값, 즉 read-only한 값이다. 원시 값은 어떤 일이 있어도 불변한다. 이러한 원시 값의 특성은 데이터의 신뢰성을 보장한다.

변수가 참조하던 메모리 공간의 주소가 변경된 이유는 변수에 할당된 원시 값이 변경 불가능한 값이기 때문이다. 만약 원시 값이 변경 가능한 값이라면 변수에 새로운 원시 값을 재할당했을 때 변수가 가리키던 메모리 공간의 주소를 바꿀 필요없이 원시 값 자체를 수정하면 그만이다. 만약 그렇다면 변수가 참조하던 메모리 공간의 주소는 바뀌지 않는다.

하지만 원시 값은 변경 불가능한 값이기 때문에 값을 직접 변경할 수 없다. 따라서 변수 값을 변경하기 위해 원시 값을 재할당하면 새로운 메모리 공간을 확보하고 재할당한 값을 저장한 후, 변수가 참조하던 메모리 공간의 주소를 변경한다. 원시 값의 이러한 특성을 **불변성(immutability)**이라 한다.

불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다. 만약 재할당 이외에 원시 값인 변수 값을 변경할 수 있다면 예기치 않게 변수 값이 변경될 수 있다는 것을 의미한다. 이는 값의 변경, 즉 상태 변경을 추적하기 어렵게 만들기 때문에 신뢰성을 떨어뜨린다.



### 문자열과 불변성

[“6.9.1. 데이터 타입에 의한 메모리 공간의 확보”](https://poiemaweb.com/fastcampus/type#91-데이터-타입에-의한-메모리-공간의-확보와-참조)에서 살펴보았듯이 원시 값을 저장하려면 먼저 확보해야 하는 메모리 공간의 크기를 결정해야 한다. 이를 위해 원시 타입 별로 메모리 공간의 크기가 미리 정해져 있다고 했다. 단, ECMAScript 사양에 문자열 타입(2byte)과 숫자 타입(8byte) 이외의 원시 타입은 크기를 명확히 규정하고 있지는 않아서 브라우저 제조사의 구현에 따라 원시 타입의 크기는 다를 수 있다.

원시 값인 문자열은 다른 원시 값과 비교할 때 독특한 특징이 있다. 문자열은 0개 이상의 문자(character)들로 이루어진 집합을 말하며 1개의 문자는 2byte의 메모리 공간에 저장된다. 따라서 문자열은 몇개의 문자로 이루어졌는지에 따라 필요한 메모리 공간의 크기가 결정된다. 숫자 값은 1도, 1000000도 동일한 8byte가 필요하지만 문자열의 경우, (실제와는 다르지만 단순하게 계산했을 때) 1개의 문자로 이루어진 문자열은 2byte, 10개의 문자로 이루어진 문자열은 20byte가 필요하다.

```javascript

```

